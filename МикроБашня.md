# МикроБашня

## Колода
*	Колода общая, состоит из всех карт в игре.
*	Расходники и некоторые другие карты имеют копии, остальные карты - нет. Количество копий карты указано рядом с ее названием

## Карточки
### Существо
*	Имеет такие характеристики:
	*	Размер
	*	Вес
	*	Стоимость
	*	Острость
	*	Разум
	*	Также обладает **Способностями**

### Герой
*	Часто почти не отличается от существа с малыми исключениями в некоторых правилах. Имеет следующие характеристики:
	*	Размер
	*	Вес
	*	Острость
	*	Разум
	*	Способности (всегда имеют ресурсную способность)

### Расходники и Шаманства
*	Имеет **Получаемое кол-во монет/деталей/карт**
*	или Специальное действие за стоимость

## Ресурсы
*	Монеты (нужны для покупки существ)
*	Детали (нужны для победы)

## Счетчики
*	Дополнительный размер (увеличивает размер существа на 2)
*	Дополнительный разум (увеличивает разум существа на 1)
*	Дополнительная острость (увеличивает острость существа на 1)
*	Уменьшение веса (уменьшает вес на 1)
*	Дополнительный вес (Увеличивает вес сущесва на 1)
*	Невесомость (вес существа становится нулем)
*	Сирена (дает пассивную способность "Таунт")
*	Дополнительное здоровье (добавляет в начале поединка этому существу 1 дополнительное здоровье)

## Цель игры
*	Первым набрать 15 Деталей, чтобы построить башню

## Подготовка к игре
1. Каждый игрок начинает с 1 монетой и 0 деталей
2. Каждый игрок выбирает одного Героя и кладет его перед собой
3. Игроки берут 3 карты в руку из перетасованной общей колоды

## Ход игры
1. Растапать все свои карты, кроме Телохранителей и убрать им их статус Телохранителя (см. Сокрытие и Телохранительство)
2. Взять 2 карты из колоды себе в руку (не работает на первом ходу каждого игрока)
3. Перенаем: сбросить до 2 карт. Взять столько столько же карт из колоды (не работает на первом ходу каждого игрока)
4. Главная фаза: совершить любые из следующих действий в любом порядке и любое количество раз:
	*	Розыгрыш карты: сыграть карту Существа (игрется тапнутой), Расходника или Шаманства с руки, заплатив ее стоимость
	*	Использование способности: тапнуть свое существо или героя, чтобы использовать одну из его способностей
	*	Объявление поединка: выбрать свое растапнутое существо и вызвать им на поединок существо или героя противника
	*	Объединиться или разъединится. (см. Объединение и Разъединение) (Заявлено к удалению)
	*	Сокрыть (см. Сокрытие и Телохранительство)
5. Передать ход следующему игроку

## Поединок
1. Игрок выбирает свое растапнутое существо, которое вызывает любое существо/героя оппонента на поединок
2. Обе карты, учавствующие в поединке, тапаются
3. Каждой карте присваивается здоровье, равное их весу
4. Если это твой ход, то здесь можно играть или использовать все карты с "Тундер" (можно, только если это твой ход). Все существа со здоровьем 0 или меньше проигрывают здесь, сразу переходят на шаг 5.3.
5. Первым атакует существо/герой с меньшим весом. Если вес равен, атакуют одновременно
	1. Урон присваивается каждому существу:
		*	Базовый урон равняется остроте
		*	Если твое существо/герой менше вражеского, то твое наносит меньше урона на разницу размеров
		*	Если твое существо/герой умнее вражеского, то втое наносит больше урона на разницу разума
		*	Итоговый урон не может быть меньше нуля!
		*	(формула: max(0, Острота_этого_существа - max(0, Размер_противника - Размер_этого_существа) + max(0, Разум_этого_существа - Разум_противника)))
		*	!Если оба существа/герой наносят урон 0, то объявляется ничья и ничего дополнительного не происходит!
	2. Урон вычитается из здоровья противной карты
	3. Если здоровье противника <= 0, атакующий побеждает
	4. Победитель получает столько Деталей, сколько было Размера у побежденного существа/героя. Побежденный уходит в сброс (кроме Героя, с ним ничего дополнительного не происходит)
	*	Если противник выживает, то противник тоже атакует, что продолжает бой подобным образом до исхода (переход к шагу 2, но со стороны противника)
	*	!При одновременной атаке оба существа/герой наносят урон друг другу в каждом раунде. Если оба существа/герой проигрывают в одном раунде, объявляется ничья, из-за которой ничего дополнительного ни с кем не происходит!

## Тап
1. Тап (этап 1) и все его виды не дают карте применять свои способности
	*	Чтобы тапнуть или овертапнуть и тд карту ее нужно повернуть на 90 градусов (отсюда и выходит, что после супертапа идет растап)
2. Если нужно тапнуть уже тапнутую карту, то она тапается дальше. Такое состояние называется Овертап (этап 2)
3. Овертап может стать тапнутым еще раз, тогда он станет Супертапом (этап 3)
4. Если тапнуть карту под Супертапом, то она растапается

*	Эффекты растапа и становки фазы тапа
	*	Эти эффекты встречаются на некоторых картах, позволяя манипулировать циклом тапов
	*	Растап - повернуть карту на 90 градусов против часовой стрелки. Этим действием нельзя повернуть карту дальше, чем Растап (супертап -> овертап -> тап -> растап)
	*	Сделать растапнутой/тапнутой/овертапнутой/супертапнутой - установить определенную фазу тапа на карте

## Объединение и Разъединение (заявлено к удалению)
*	Объединение
	1. Игрок выбирает свое растапнутое существо или героя
	2. Игрок выбирает другое свое растапнутое существо или героя
	3. Выбранные карты соединяются в одну, у которой характеристики равны сумме соединенных карт. Эта новая Объединенная карта наследует от составных все пассивные способности. Но у нее нет активных способностей, включая "вызов на поединок", есть только "Разъединится". Объединенные карты не могут быть использованы в объединенном состоянии
	4. При вызове на поединок Объединенной карты он происходит как обычно
	*	Важные моменты:
		*	При проигрыше Объединенной карты на поединке, она разъединяется и после процедуры разъединения поражение применяется к каждой разъединенной карте по правилам поражения на поединке
		*	Все эффекты, направленые на существ/героев действуют на Объединенную карту как на одно существо/героя, кроме карт, эффектов, которые накладывают счетчики, если такое происходит, то накладывающий выбирает цель. Характеристики Объединенной карты обновляются
		*	Если одна из карт в Объединенной карте должна взорваться от перегрузки, то происходит процедура разъеденения, после которой происходит взрыв
		*	Пассивная способность "Таунт" не работает на Объединенной карте

*	Разъединение
	1. Игрок выбирает свою Объединенную карту
	2. Объединенная карта разъединяется в две карты, из которых она состояла
	3. Состояние разъединенных карт устанавливается на "Тап"

## Сокрытие и Телохранительство
1. Игрок выбирает свое растапнутое существо или героя. Оно становится Телохранителем
2. Игрок выбирает свое другое существо или героя. Его сокрывает Телохранитель
3. Телохранитель тапается
4. Сокрытое существо или герой не может быть целью для поединка оппонента, но также не может его начинать или сокрывать другое существо или героя

## Способности
*	Бывают пассивными, активными и стартовыми
	*	Пассивные
		*	Работают всегда, когда карта с этой способностью на поле и находится в состоянии растапа или тапа (т.е. в состоянии овер и супертапов не работают)
		*	Отображаются меткой "пассив" рядом с названием способности
	*	Активные
		*	Можно применить только в свой ход у карты, которая выложена на поле и **растапнута**. Применение тапает карту и дает описанный эффект
		*	Не имеют ограничение на количество использований
		*	Отображаются меткой "актив" рядом с названием способности
	*	Стартовые
		*	Срабатывают, когда карта входит в игру, входит на поле
		*	Отображаются меткой "старт" рядом с названием способности
	*	Почти все действия карт в МикроБашне являются способностями. Например "Вызвать на поединок" - это скрытая активная способность всех Существ. 

## Раскачка характеристик существ и героев:
*	Каждое взаимодействие с основными характеристиками существа или героя -- это такой счетчик. Например: Прамо -- счетчик "Дополнительный размер"
*	Каждый счетчик, который увеличивает характеристику на карте, добавляет +1 к нагрузке этой карты
*	Если у карты больше 2 нагрузки, то она становится Перекачем
*	Перекач в начале своего хода уходит в сброс (взрывается). Владелец этого существа получает детали в количестве равном Размеру взорванного существа
*	!Нельзя совершать действия, которые превысят нагрузку 2 на героях!

## Особенности характеристик
*	Нулевой вес
	*	Существо/герой с нулевым весом имеет 1 здоровье, а не 0.
*	Отрицательные значения
	*	Хоть и значения меньше нуля быть не может на карте, но во внутренних расчетах отрицательные числа возможны, кроме урона
	*	Например, способность Золобоба дает существам с нулевым весом значение инциативы -1 (это значит, что атакует быстрее, чем существо с нулевым весом)

## Сжигание
*	Это значит надо сбросить указанную карту в зависимости от ее типа и принадлежности в определенном количестве для выполнения стоимости или как самостоятельное действие.
*	Могут быть сжигания разных типов карт:
	*	Сжигание существа - нужно сбросить *сыгранных* существ в указанном количестве
	*	Сжигание героя - нужно сбросить героя. Он уходит в отдельную стопку сброса, чтобы случайно не смешать героев с колодой
	*	Сжигание карт - нужно сбросить карты *с руки* в указанном количестве

## Вытягивание
*	Это значит нужно взять себе в руку карты с верха колоды в указанном количестве
